<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>HAL: HAL::Algorithms::ImportParticle Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">HAL
   </div>
   <div id="projectbrief">A H.E.P. Analysis Library based on ROOT</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_h_a_l_1_1_algorithms_1_1_import_particle.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="class_h_a_l_1_1_algorithms_1_1_import_particle-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">HAL::Algorithms::ImportParticle Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="class_h_a_l_1_1_algorithm.html" title="Base class for all analysis algorithms. ">Algorithm</a> that builds particles from information in a TTree.  
 <a href="class_h_a_l_1_1_algorithms_1_1_import_particle.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_import_particle_8h_source.html">ImportParticle.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for HAL::Algorithms::ImportParticle:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="class_h_a_l_1_1_algorithms_1_1_import_particle.png" usemap="#HAL::Algorithms::ImportParticle_map" alt=""/>
  <map id="HAL::Algorithms::ImportParticle_map" name="HAL::Algorithms::ImportParticle_map">
<area href="class_h_a_l_1_1_algorithm.html" title="Base class for all analysis algorithms. " alt="HAL::Algorithm" shape="rect" coords="0,0,194,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab42dcac49ed8ae1f565346ec7372c7a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_a_l_1_1_algorithms_1_1_import_particle.html#ab42dcac49ed8ae1f565346ec7372c7a5">ImportParticle</a> (TString name, TString title, unsigned n_max=0)</td></tr>
<tr class="memdesc:ab42dcac49ed8ae1f565346ec7372c7a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#ab42dcac49ed8ae1f565346ec7372c7a5">More...</a><br /></td></tr>
<tr class="separator:ab42dcac49ed8ae1f565346ec7372c7a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a1e5924b9deb6c7d1c1d1734b8cb510cb"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_h_a_l_1_1_algorithms_1_1_import_particle.html#a1e5924b9deb6c7d1c1d1734b8cb510cb">Exec</a> (Option_t *)</td></tr>
<tr class="memdesc:a1e5924b9deb6c7d1c1d1734b8cb510cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook into the TSelector::Process method.  <a href="#a1e5924b9deb6c7d1c1d1734b8cb510cb">More...</a><br /></td></tr>
<tr class="separator:a1e5924b9deb6c7d1c1d1734b8cb510cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abad1a5a9b44becfae4e4a7113edc80eb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abad1a5a9b44becfae4e4a7113edc80eb"></a>
virtual TLorentzVector *&#160;</td><td class="memItemRight" valign="bottom"><b>MakeTLV</b> (unsigned)</td></tr>
<tr class="separator:abad1a5a9b44becfae4e4a7113edc80eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_h_a_l_1_1_algorithm.html" title="Base class for all analysis algorithms. ">Algorithm</a> that builds particles from information in a TTree. </p>
<p>This algorithm imports the information to build particles from specified branches in a TTree. It may use the branches to build particles with either full 4-vector momentum or transverse momentum. It can optionally read in the charge, particle ID, and number of particles to import. It determines how to read in the particles through the specified branch maps given to the <a class="el" href="class_h_a_l_1_1_analysis.html" title="Main class that organizes and drives the analysis. ">Analysis</a> object. It can also determine how many particles to read in based on whether you give a number to read, branchmap to scan, or implicitly gather it from the length of the other required branches. The necessary branch maps are given below. The particles from this algorithm are stored in a <a class="el" href="class_h_a_l_1_1_generic_data.html">GenericData</a> object in the UserData under the algorithm's name.<br />
<br />
<b>Explaination of the branch maps:</b><br />
The required maps are those needed to construct the TLorentzVectors, either complete vectors or just transverse vectors. Any set of the branch maps given below will do. &lt;name&gt; refers to the name given to this algorithm's constructor.<br />
<em>Required Branch Maps:</em> </p><table class="doxtable">
<tr>
<th align="center">Cartesian components </th><th align="center">\( p_T,\eta,\phi,E\) </th><th align="center">\( p_T,\eta,\phi,m\) </th><th align="center">Transverse Cartesian </th><th align="center">\( p_T,\phi\) </th><th align="center">\( E_T,\phi\)  </th></tr>
<tr>
<td align="center">&lt;name&gt;:x0 </td><td align="center">&lt;name&gt;:pt </td><td align="center">&lt;name&gt;:pt </td><td align="center">&lt;name&gt;:x1 </td><td align="center">&lt;name&gt;:pt </td><td align="center">&lt;name&gt;:et </td></tr>
<tr>
<td align="center">&lt;name&gt;:x1 </td><td align="center">&lt;name&gt;:eta </td><td align="center">&lt;name&gt;:eta </td><td align="center">&lt;name&gt;:x2 </td><td align="center">&lt;name&gt;:phi </td><td align="center">&lt;name&gt;:phi </td></tr>
<tr>
<td align="center">&lt;name&gt;:x2 </td><td align="center">&lt;name&gt;:phi </td><td align="center">&lt;name&gt;:phi </td><td align="center"></td><td align="center"></td><td align="center"></td></tr>
<tr>
<td align="center">&lt;name&gt;:x3 </td><td align="center">&lt;name&gt;:e </td><td align="center">&lt;name&gt;:m </td><td align="center"></td><td align="center"></td><td align="center"></td></tr>
</table>
<p><em>Optional Branch Maps:</em> </p><table class="doxtable">
<tr>
<th align="center">Number of particle </th><th align="center">Charge </th><th align="center">ID  </th></tr>
<tr>
<td align="center">&lt;name&gt;:nentries </td><td align="center">&lt;name&gt;:charge </td><td align="center">&lt;name&gt;:id </td></tr>
</table>
<p><b>Examples:</b><br />
In your analysis file, do the following to import Monte Carlo particles with complete 4-vectors:</p>
<div class="fragment"><div class="line"><a class="code" href="class_h_a_l_1_1_analysis.html">HAL::Analysis</a> a(<span class="stringliteral">&quot;sample analysis&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;truth&quot;</span>);</div>
<div class="line"></div>
<div class="line">a.AddAlgo(<span class="keyword">new</span> <a class="code" href="class_h_a_l_1_1_algorithms_1_1_import_particle.html">HAL::Algorithms::ImportParticle</a>(<span class="stringliteral">&quot;mc&quot;</span>, <span class="stringliteral">&quot;import basic Monte Carlo particles&quot;</span>));</div>
<div class="line"></div>
<div class="line"><span class="comment">//...</span></div>
<div class="line"></div>
<div class="line">a.MapBranch(<span class="stringliteral">&quot;mc_pt&quot;</span>,     <span class="stringliteral">&quot;mc:pt&quot;</span>);</div>
<div class="line">a.MapBranch(<span class="stringliteral">&quot;mc_eta&quot;</span>,    <span class="stringliteral">&quot;mc:eta&quot;</span>);</div>
<div class="line">a.MapBranch(<span class="stringliteral">&quot;mc_phi&quot;</span>,    <span class="stringliteral">&quot;mc:phi&quot;</span>);</div>
<div class="line">a.MapBranch(<span class="stringliteral">&quot;mc_m&quot;</span>,      <span class="stringliteral">&quot;mc:m&quot;</span>);</div>
<div class="line">a.MapBranch(<span class="stringliteral">&quot;mc_pdgId&quot;</span>,  <span class="stringliteral">&quot;mc:id&quot;</span>);</div>
<div class="line">a.MapBranch(<span class="stringliteral">&quot;mc_charge&quot;</span>, <span class="stringliteral">&quot;mc:charge&quot;</span>);</div>
</div><!-- fragment --><p> Likewise, you can import the MET vector like so:</p>
<div class="fragment"><div class="line"><a class="code" href="class_h_a_l_1_1_analysis.html">HAL::Analysis</a> a(<span class="stringliteral">&quot;sample analysis&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;truth&quot;</span>);</div>
<div class="line"></div>
<div class="line">a.AddAlgo(<span class="keyword">new</span> <a class="code" href="class_h_a_l_1_1_algorithms_1_1_import_particle.html">HAL::Algorithms::ImportParticle</a>(<span class="stringliteral">&quot;met&quot;</span>, <span class="stringliteral">&quot;import the MET tranverse vector&quot;</span>));</div>
<div class="line"></div>
<div class="line"><span class="comment">//...</span></div>
<div class="line"></div>
<div class="line">a.MapBranch(<span class="stringliteral">&quot;MET_Truth_Int_etx&quot;</span>, <span class="stringliteral">&quot;met:x1&quot;</span>);</div>
<div class="line">a.MapBranch(<span class="stringliteral">&quot;MET_Truth_Int_ety&quot;</span>, <span class="stringliteral">&quot;met:x2&quot;</span>);</div>
</div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab42dcac49ed8ae1f565346ec7372c7a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HAL::Algorithms::ImportParticle::ImportParticle </td>
          <td>(</td>
          <td class="paramtype">TString&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TString&#160;</td>
          <td class="paramname"><em>title</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>n_max</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<p>Initializes the algorithm </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Name of the algorithm. This can be used as the input to other algorithms. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">title</td><td>Description of the algorithm. Can be an empty string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n_max</td><td>Maximum number of particles to import. If n=0 then all the particles are imported. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>ImportBool, ImportInteger, ImportCounting, ImportDecimal </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a1e5924b9deb6c7d1c1d1734b8cb510cb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void HAL::Algorithms::ImportParticle::Exec </td>
          <td>(</td>
          <td class="paramtype">Option_t *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hook into the TSelector::Process method. </p>
<p>This method allows the algorithm operate at the first part of the 'Process' stage of processing a TTree. This where most of the logic of an algorithm will likely be contained. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">option</td><td>Option string passed to all algorithms from the Analysis::Process call </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="class_h_a_l_1_1_algorithm.html#a438c5c54698aa014b660474d08703bc2">HAL::Algorithm</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/jhetherly/src/HAL-ROOT/include/HAL/Algorithms/<a class="el" href="_import_particle_8h_source.html">ImportParticle.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_h_a_l.html">HAL</a></li><li class="navelem"><b>Algorithms</b></li><li class="navelem"><a class="el" href="class_h_a_l_1_1_algorithms_1_1_import_particle.html">ImportParticle</a></li>
    <li class="footer">Generated on Wed Jun 11 2014 21:57:55 for HAL by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
